# api接口规范

::: warning 注意
前后端交互，所有字段一律采用**小写格式**
::: 

## api接口返回数据格式
``` js
{
	code:0,      
	msg:"ok",        
	data:"",
}
```
### 字段说明

| 字段名         |    字段描述     |   说明   |
| ------------- |:-------------:|:------------|
| code          | 状态码          | 保留字段 | 
| msg           | 请求信息描述     | msg="ok"表明请求成功，msg不是"ok"，表示请求失败，此时msg表示错误信息|
| data          | 后台响应的数据体  | |

## 请求方法说明

::: tip method
现阶段常用的请求方法主要是**GET**，与**POST**，针对GET 与 POST 应当根据使用场景和目的进行区分。同时对于常见的
增删改查应有明确的动词以作区分。
:::

| 操作           |    请求方法     |   动词前缀     |
| ------------- |:-------------:|:------------|
| 新增           | POST          | add         | 
| 修改           | POST          | update      |
| 查询           | GET           | get         |
| 删除/禁用       | POST          | del         |

- 注： 当`GET`请求参数过多时（>5），应考虑使用`POST`方法。

## key-value 规则

::: tip key-value
通常前端从后端获取数据的一方面用于页面展示，另一方面是给用户提供可选列表，确保参数的正确性。
- 针对第一种情况，后台数据无需回传，后台应直接返回客户端需要展示的数据（前端不应再对数据进行二次转化）。
- 针对第二种情况，数据通常需要回传，这时通过**key-value**规则约束数据格式。
:::

### key-value 字段说明
| 字段           |    说明     |
| ------------- |:-------------:|
| key           | 数据id,用于回传，通常对应数据库中的oid          | 
| value         | 数据值，用于前端直接展示                       |
- 案例
``` json
{
  "data": [
    {
      "key": "type001",
      "value": "焊接"
    },
    {
      "key": "type002",
      "value": "装配"
    },
    {
      "key": "type003",
      "value": "打磨"
    }
  ],
  "msg": "ok",
	"code":0
}

```

::: danger 注意
前端在进行数据回传时，应该准寻命名规范约束，回传带有明确含义的字段。
- 不推荐的写法 ： part : "001"
- 推荐到写法  : partid : "001" 
:::

