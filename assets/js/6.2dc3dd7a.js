(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{183:function(t,a,s){"use strict";s.r(a);var e=s(6),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"api接口规范"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#api接口规范"}},[t._v("#")]),t._v(" api接口规范")]),t._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),s("p",[t._v("前后端交互，所有字段一律采用"),s("strong",[t._v("小写格式")])])]),t._v(" "),s("h2",{attrs:{id:"api接口返回数据格式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#api接口返回数据格式"}},[t._v("#")]),t._v(" api接口返回数据格式")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tcode"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("      \n\tmsg"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ok"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("        \n\tdata"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"字段说明"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#字段说明"}},[t._v("#")]),t._v(" 字段说明")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("字段名")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("字段描述")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("code")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("状态码")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("保留字段")])]),t._v(" "),s("tr",[s("td",[t._v("msg")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("请求信息描述")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v('msg="ok"表明请求成功，msg不是"ok"，表示请求失败，此时msg表示错误信息')])]),t._v(" "),s("tr",[s("td",[t._v("data")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("后台响应的数据体")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}})])])]),t._v(" "),s("h2",{attrs:{id:"请求方法说明"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#请求方法说明"}},[t._v("#")]),t._v(" 请求方法说明")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("method")]),t._v(" "),s("p",[t._v("现阶段常用的请求方法主要是"),s("strong",[t._v("GET")]),t._v("，与"),s("strong",[t._v("POST")]),t._v("，针对GET 与 POST 应当根据使用场景和目的进行区分。同时对于常见的\n增删改查应有明确的动词以作区分。")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("操作")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("请求方法")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("动词前缀")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("新增")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("POST")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("add")])]),t._v(" "),s("tr",[s("td",[t._v("修改")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("POST")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("update")])]),t._v(" "),s("tr",[s("td",[t._v("查询")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("GET")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("get")])]),t._v(" "),s("tr",[s("td",[t._v("删除/禁用")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("POST")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("del")])])])]),t._v(" "),s("ul",[s("li",[t._v("注： 当"),s("code",[t._v("GET")]),t._v("请求参数过多时（>5），应考虑使用"),s("code",[t._v("POST")]),t._v("方法。")])]),t._v(" "),s("h2",{attrs:{id:"key-value-规则"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#key-value-规则"}},[t._v("#")]),t._v(" key-value 规则")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("key-value")]),t._v(" "),s("p",[t._v("通常前端从后端获取数据的一方面用于页面展示，另一方面是给用户提供可选列表，确保参数的正确性。")]),t._v(" "),s("ul",[s("li",[t._v("针对第一种情况，后台数据无需回传，后台应直接返回客户端需要展示的数据（前端不应再对数据进行二次转化）。")]),t._v(" "),s("li",[t._v("针对第二种情况，数据通常需要回传，这时通过"),s("strong",[t._v("key-value")]),t._v("规则约束数据格式。")])])]),t._v(" "),s("h3",{attrs:{id:"key-value-字段说明"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#key-value-字段说明"}},[t._v("#")]),t._v(" key-value 字段说明")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("字段")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("key")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("数据id,用于回传，通常对应数据库中的oid")])]),t._v(" "),s("tr",[s("td",[t._v("value")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("数据值，用于前端直接展示")])])])]),t._v(" "),s("ul",[s("li",[t._v("案例")])]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"data"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"key"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"type001"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"value"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"焊接"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"key"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"type002"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"value"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"装配"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"key"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"type003"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"value"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"打磨"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"msg"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ok"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"code"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),s("div",{staticClass:"custom-block danger"},[s("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),s("p",[t._v("前端在进行数据回传时，应该准寻命名规范约束，回传带有明确含义的字段。")]),t._v(" "),s("ul",[s("li",[t._v('不推荐的写法 ： part : "001"')]),t._v(" "),s("li",[t._v('推荐到写法  : partid : "001"')])])])])}),[],!1,null,null,null);a.default=n.exports}}]);